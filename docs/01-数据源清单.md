# 数据源清单

**版本：** v1.0  
**编制日期：** 2025.11.18  
**负责人/单位：** AI产业部  
**适用范围：** 日本地区陆上工厂化养殖的南美白对虾数据源确认

---

## 1. 数据分类体系

### 1.1 按数据类型分类

#### 文本数据
- 操作日志
- 养殖手册
- 历史记录（报告、记录表、备注）

#### 图像/视频数据
- 目标监测图像
- 视频帧
- 标注文件

### 1.2 按数据来源分类

#### 自动标注数据
- 传感器自动采集
- 图像算法生成标签
- 喂食机自动记录

#### 人工标注数据
- 人工审核纠偏后的标签与记录

### 1.3 按数据格式分类

#### 结构化数据
- 数据库表（MySQL）

#### 非结构化数据
- 原始图像/视频
- 自由文本

#### 半结构化数据
- CSV
- JSON
- XML
- YAML

### 1.4 按变化频率分类

- **高频变化数据**：传感器数据、图像检测数据、喂食机数据
- **低频变化数据**：操作日志、养殖手册、历史记录

---

## 2. 数据源详细清单

### 2.1 传感器数据

**数据源类型**：自动标注、高频变化

**数据内容**：
- **典型指标**：
  - 水温（Temperature）
  - 浊度（Turbidity）
  - pH值
  - 溶解氧（DO - Dissolved Oxygen）
  - 水位（Water Level）
  - 盐度（Salinity）
  - 氨氮（Ammonia Nitrogen）
  - 亚硝酸盐（Nitrite）
  - 光照强度（Light Intensity）
  - 室内温度（Indoor Temperature）
  - 室内湿度（Indoor Humidity）

**数据特征**：
- 以水产环境参数为主，同时包含光照与室内环境参数
- 采样周期：建议1–10分钟，按场景配置
- 数据格式：结构化（数据库表）

**存储位置**：
- 数据库表：`sensor_readings`（窄表设计，metric+value）

**数据量预估**：
- 单设备单指标：约144-1440条/天（1-10分钟采样周期）
- 多设备多指标：根据实际设备数量和指标数量计算

---

### 2.2 图像目标监测数据

**数据源类型**：自动标注、高频变化

**数据内容**：
- **具体目标与输出字段**：
  - 检测数量（count）
  - 检测长度（avg_length_mm）
  - 检测高度（avg_height_mm）
  - 预估体重（est_weight_g_avg）
  - 有无饲料（feed_present）
  - 有无虾皮（shrimp_shell_present）
  - 检测时间（ts_utc）
  - 模型名称（model_name）
  - 模型版本（model_version）
  - 平均置信度（confidence_avg）

**数据特征**：
- 触发式采集（用户触发上传）
- 数据格式：非结构化（图像/视频）+ 结构化（检测结果）

**存储位置**：
- 图像文件：对象存储
- 元数据：`image_frames` 表
- 检测结果：`image_detections` 表

**数据量预估**：
- 根据用户触发频率确定
- 单次检测生成1条图像帧记录 + 1条检测结果记录

---

### 2.3 喂食机数据

**数据源类型**：自动标注、高频变化

**数据内容**：
- **字段示例**：
  - 喂食时间（ts_utc, ts_local）
  - 喂食量（feed_amount_g，单位：克）
  - 喂食次数（通过记录数统计）
  - 剩余饵料估计（leftover_estimate_g，单位：克）
  - 设备状态（status：ok/warning/error）
  - 运行时长（run_time_s，单位：秒）

**数据特征**：
- 设备侧自动记录
- 数据格式：结构化（数据库表）

**存储位置**：
- 数据库表：`feeders_logs`

**数据量预估**：
- 根据喂食频率确定
- 通常每天数次到数十次

---

### 2.4 操作日志数据

**数据源类型**：人工标注、低频变化

**数据内容**：
- **字段示例**：
  - 操作时间（ts_utc, ts_local）
  - 操作人（operator_id）
  - 操作类型（action_type）：
    - 投料
    - 水质调控
    - 巡检
    - 清洗
    - 其他
  - 备注（remarks）
  - 附件URI（attachment_uri，如有）

**数据特征**：
- 人工录入
- 数据格式：结构化（数据库表）

**存储位置**：
- 数据库表：`operations_logs`

**数据量预估**：
- 根据操作频率确定
- 通常每天数条到数十条

---

### 2.5 养殖手册文档

**数据源类型**：人工标注、低频变化

**数据内容**：
- **内容**：
  - 操作流程
  - 注意事项
  - 异常处置SOP（标准作业程序）

**数据特征**：
- 人工上传
- 数据格式：非结构化（文档）+ 结构化（索引）

**存储位置**：
- 文档文件：对象存储或文件系统
- 索引：`manuals_docs` 表

**数据量预估**：
- 文档数量有限，更新频率低
- 通常每个版本1个文档

---

### 2.6 往期养殖记录

**数据源类型**：人工标注、低频变化

**数据内容**：
- **内容**：
  - 批次记录
  - 苗种来源（seed_origin）
  - 放养密度（stocking_density）
  - 成活率（survival_rate）
  - 规格信息：
    - 面积（area）
    - 水循环量（water_circulation）
    - 养殖品类（species）
  - 产出（output）
  - 执行授权（authorization）
  - 异常情况（anomalies）

**数据特征**：
- 人工上传
- 数据格式：半结构化（CSV/JSON/Excel）→ 结构化（数据库表）

**存储位置**：
- 数据库表：`history_records`（结构化后）
- 原始文件：可归档保存

**数据量预估**：
- 每个批次1条或多条记录
- 历史数据一次性导入

---

### 2.7 当期养殖记录

**数据源类型**：人工标注、低频变化

**数据内容**：
- **内容**：
  - 批次记录
  - 苗种来源（seed_origin）
  - 放养密度（stocking_density）
  - 成活率（survival_rate）
  - 规格信息：
    - 面积（area）
    - 水循环量（water_circulation）
    - 养殖品类（species）
  - 产出（output）
  - 执行授权（authorization）
  - 异常情况（anomalies）

**数据特征**：
- 人工录入或系统自动汇总
- 数据格式：结构化（数据库表）

**存储位置**：
- 数据库表：`batches`（批次基本信息）
- 数据库表：`history_records`（详细记录）

**数据量预估**：
- 每个批次1条主记录
- 详细记录根据更新频率确定

---

## 3. 数据源汇总表

| 数据源 | 类型 | 频率 | 标注方式 | 数据格式 | 存储表/位置 |
|--------|------|------|----------|----------|-------------|
| 传感器数据 | 环境监测 | 高频 | 自动 | 结构化 | `sensor_readings` |
| 图像目标监测 | 视觉检测 | 高频 | 自动 | 非结构化+结构化 | `image_frames`, `image_detections` |
| 喂食机数据 | 设备运行 | 高频 | 自动 | 结构化 | `feeders_logs` |
| 操作日志 | 人工操作 | 低频 | 人工 | 结构化 | `operations_logs` |
| 养殖手册 | 文档知识 | 低频 | 人工 | 非结构化 | `manuals_docs` |
| 往期养殖记录 | 历史数据 | 低频 | 人工 | 半结构化→结构化 | `history_records` |
| 当期养殖记录 | 批次管理 | 低频 | 人工/自动 | 结构化 | `batches`, `history_records` |

---

## 4. 数据源关联关系

### 4.1 核心关联表

- **batches（批次信息）**：所有数据源的核心关联表
  - 关联传感器数据：通过 `batch_id`
  - 关联图像数据：通过 `batch_id`
  - 关联喂食机数据：通过 `batch_id`
  - 关联操作日志：通过 `batch_id`
  - 关联历史记录：通过 `batch_id`

- **devices（设备清单）**：设备类数据源的关联表
  - 关联传感器数据：通过 `device_id`
  - 关联图像数据：通过 `camera_id`（设备ID）
  - 关联喂食机数据：通过 `feeder_id`（设备ID）

### 4.2 数据流向

```
批次创建（batches）
    ↓
设备部署（devices）
    ↓
数据采集（传感器/摄像头/喂食机）
    ↓
数据处理与存储
    ↓
数据关联（通过batch_id, device_id）
```

---

## 5. 待确认事项

### 5.1 数据源完整性

- [ ] 是否还有其他数据源未列出？
- [ ] 传感器数据是否包含其他指标（如：电导率、碱度、流速等）？
- [ ] 图像数据是否包含视频流数据？
- [ ] 是否有其他设备数据（如：增氧机、循环泵等）？

### 5.2 数据量预估

- [ ] 每个养殖场地的设备数量？
- [ ] 每个批次的持续时间？
- [ ] 图像采集的触发频率？
- [ ] 历史数据的回溯时间范围？

### 5.3 数据源优先级

- [ ] 哪些数据源是核心必需数据？
- [ ] 哪些数据源是可选补充数据？
- [ ] 数据采集的优先级排序？

---

## 6. 附录

### 6.1 术语定义

- **结构化数据**：具有固定模式的数据（如数据库表）
- **非结构化数据**：无固定模式的原始文本、图像、视频等
- **半结构化数据**：具有一定结构标识的文本（如CSV、JSON、XML、YAML）
- **自动标注数据**：由算法或设备自动生成标签的记录
- **人工标注数据**：由人工审核与纠偏后生成的标签
- **元数据**：描述数据的数据，包括来源、时间、位置、设备、采集方式、质量状态等

### 6.2 数据库表结构参考

详细表结构请参考：
- `schema/mysql_aquaculture_ddl.sql` - 完整DDL脚本
- `docs/日本陆上养殖数据处理计划.md` - 第6章数据存储与表设计

---

**文档状态**：待确认  
**最后更新**：2025.11.18





